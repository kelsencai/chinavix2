# 股债百分位分析系统

## 项目概述

这是一个专业的股票和债券百分位分析系统，旨在帮助投资者更好地理解市场位置和投资时机。

## 项目目标

- 分析股票和债券的历史数据
- 计算当前市场位置的百分位数
- 提供投资决策支持
- 可视化市场趋势和位置

## 技术架构

### 后端技术栈
- **编程语言**: Python 3.8+
- **Web框架**: FastAPI
- **数据库**: SQLite (开发环境) / PostgreSQL (生产环境)
- **数据处理**: Pandas, NumPy
- **数据获取**: yfinance, tushare
- **API文档**: Swagger UI

### 前端技术栈
- **框架**: React 18
- **UI库**: Ant Design
- **图表库**: ECharts
- **状态管理**: Redux Toolkit
- **构建工具**: Vite

## 项目结构

```
股债百分位/
├── README.md                 # 项目说明文档
├── requirements.txt          # Python依赖包
├── package.json             # Node.js依赖包
├── backend/                 # 后端代码
│   ├── main.py             # FastAPI主程序
│   ├── models/             # 数据模型
│   ├── services/           # 业务逻辑
│   ├── api/                # API路由
│   └── utils/              # 工具函数
├── frontend/               # 前端代码
│   ├── src/
│   │   ├── components/     # React组件
│   │   ├── pages/         # 页面组件
│   │   ├── services/      # API服务
│   │   └── utils/         # 工具函数
│   └── public/            # 静态资源
└── data/                  # 数据文件
    ├── stocks/            # 股票数据
    └── bonds/             # 债券数据
```

## 核心功能

### 1. 数据获取模块
- **功能**: 自动获取股票和债券的历史数据
- **数据源**: yfinance, tushare等
- **更新频率**: 每日自动更新
- **数据范围**: 5年历史数据

### 2. 百分位计算模块
- **功能**: 计算当前价格在历史数据中的百分位
- **计算方法**: 滚动窗口百分位计算
- **时间窗口**: 252个交易日（1年）
- **输出**: 0-100的百分位数值

### 3. 可视化模块
- **功能**: 展示百分位分析结果
- **图表类型**: 
  - 时间序列图
  - 百分位分布图
  - 热力图
  - 雷达图

### 4. 预警模块
- **功能**: 设置百分位阈值预警
- **预警条件**: 
  - 超买区域（>80%）
  - 超卖区域（<20%）
- **通知方式**: 邮件、短信、应用内通知

## API接口设计

### 基础接口
```
GET /api/v1/health          # 健康检查
GET /api/v1/stocks          # 获取股票列表
GET /api/v1/bonds           # 获取债券列表
```

### 数据接口
```
GET /api/v1/stock/{symbol}/percentile    # 获取股票百分位
GET /api/v1/bond/{symbol}/percentile     # 获取债券百分位
GET /api/v1/market/overview              # 获取市场概览
```

### 分析接口
```
POST /api/v1/analysis/compare            # 比较分析
GET /api/v1/analysis/trend               # 趋势分析
GET /api/v1/analysis/correlation         # 相关性分析
```

## 安装和运行

### 环境要求
- Python 3.8+
- Node.js 16+
- Git

### 后端安装
```bash
# 创建虚拟环境
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 安装依赖
pip install -r requirements.txt

# 运行后端服务
cd backend
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

### 前端安装
```bash
# 安装依赖
npm install

# 运行开发服务器
npm run dev
```

## 使用说明

### 1. 查看股票百分位
1. 在搜索框中输入股票代码
2. 系统自动获取历史数据
3. 显示当前百分位位置
4. 查看历史趋势图

### 2. 设置预警
1. 选择关注的股票/债券
2. 设置百分位阈值
3. 配置通知方式
4. 保存预警设置

### 3. 市场分析
1. 查看市场整体百分位分布
2. 分析行业轮动情况
3. 识别投资机会

## 开发计划

### 第一阶段 (1-2周)
- [x] 项目架构设计
- [ ] 后端基础框架搭建
- [ ] 数据获取模块开发
- [ ] 基础API接口实现

### 第二阶段 (2-3周)
- [ ] 百分位计算算法实现
- [ ] 数据库设计和实现
- [ ] 前端基础界面开发
- [ ] 数据可视化组件

### 第三阶段 (3-4周)
- [ ] 预警系统开发
- [ ] 高级分析功能
- [ ] 用户界面优化
- [ ] 性能优化

### 第四阶段 (1周)
- [ ] 测试和调试
- [ ] 文档完善
- [ ] 部署准备

## 注意事项

1. **数据准确性**: 所有数据来源于公开API，仅供参考
2. **投资风险**: 本系统不构成投资建议，投资需谨慎
3. **数据更新**: 建议在交易时间后查看最新数据
4. **系统维护**: 定期备份数据和检查系统状态

## 联系方式

如有问题或建议，请通过以下方式联系：
- 邮箱: [您的邮箱]
- 项目地址: [GitHub地址]

## 更新日志

### v1.0.0 (计划中)
- 初始版本发布
- 基础百分位分析功能
- 股票和债券数据支持
- 基础可视化功能

---

**免责声明**: 本系统仅供学习和研究使用，不构成投资建议。投资有风险，入市需谨慎。 